<ion-header>
  <ion-navbar>
    <ion-title>
      Weather
    </ion-title>
  </ion-navbar>
</ion-header>

<ion-content padding class="main">

  <ion-grid class="search">
    <ion-row>
      <ion-list>
        <ion-item>
          <ion-label fixed>
            City
          </ion-label>
          <ion-input (keyup)="getQuery()" [(ngModel)]="searchStr" type="text" value=""></ion-input>
        </ion-item>
      </ion-list>
    </ion-row>
    <ion-row>
      <ion-list *ngIf="results">
        <ion-item *ngFor="let result of results">
          <span (click)="chooseCity(result)">{{ result.name }}</span>
        </ion-item>
      </ion-list>
    </ion-row>
  </ion-grid>

  <!-- <ion-grid *ngIf="results">
    <h3 style="text-align:center">Multiple results found:</h3>
    <ion-row *ngFor="let result of results">
      <ion-col>
        <h2 class="location"><a (click)="onClickSelected(result)">{{ result.name }}</a></h2>
      </ion-col>
    </ion-row>
  </ion-grid> -->

  <ion-grid *ngIf="weather">
    <ion-row>
      <ion-col >
        <h2 class="location">{{ weather.display_location.full }}</h2>
        <div class="icon"><img src="{{ weather.icon_url }}"></div>
        <h3 class="desc">{{ weather.weather }}</h3>
        <h1 class="temp">{{ weather.temp_c }}&deg;C</h1>
      </ion-col>
    </ion-row>

    <ion-row>
      <ion-col width-12>
        <ion-list>
          <ion-item><strong>Temp: </strong> {{ weather.temperature_string }}</ion-item>
          <ion-item><strong>Relative Humitdy: </strong> {{ weather.relative_humidity }}</ion-item>
          <ion-item><strong>Dewpoint: </strong> {{ weather.dewpoint_string }}</ion-item>        <ion-item><strong>Visibility: </strong> {{ weather.visibility_km }} km</ion-item>
          <ion-item><strong>Wind: </strong> {{ weather.wind_kph }} km/h</ion-item>
          <ion-item><strong>Wind Direction: </strong> {{ weather.wind_dir }}</ion-item>
        </ion-list>
      </ion-col>
    </ion-row>
  </ion-grid>

</ion-content>
